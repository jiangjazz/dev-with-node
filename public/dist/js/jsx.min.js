(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*自定义模块*/
//基础模块
require('./module/index.jsx');

require('./module/demo1.jsx');

},{"./module/demo1.jsx":2,"./module/index.jsx":3}],2:[function(require,module,exports){
var page = function(){
    var MyComponent = React.createClass({displayName: "MyComponent",
        getDefaultProps: function(){
            return {
                'name': 'Json',
                'type': false
            }
        },
        getInitialState: function(){
            var firstSetName = this.props.name === 'Json'? '是': '不是';
            return{
                'firstSetName': firstSetName
            }
        },
        componentWillMount: function(){
            this.setState({'name': 'Jazz'});
        },
        componentDidMount: function(){
            //alert('渲染成功');
            //console.log(ReactDOM.findDOMNode(this.refs.h1));  //获取DOM节点
            console.log(this.refs.h1);  //获取DOM节点
        },
        render: function(){
            return (
                React.createElement("div", null, 
                    React.createElement("h1", {ref: "h1"}, "姓名:", this.state.name), 
                    React.createElement("p", null, "是不是初始化:", this.state.firstSetName)
                )
                );
        }
    });

    ReactDOM.render(
        React.createElement(MyComponent, null),
        document.querySelector('.content1')
        );
};







//依据模块加载
document.querySelector('.demo-module') && page();

},{}],3:[function(require,module,exports){
//组件
/*var HelloMessage = React.createClass({
    getDefaultProps: function(){
        return {
            content: 'Nice to meet you'
        }
    },
    propTypes: {
        title: React.PropTypes.string.isRequired
    },
    render: function(){
        return <div>
        <h1>{this.props.title}</h1>
        <div>{this.props.content}</div>
        </div>;
    }
});

var MyComponent = React.createClass({
    handleClick: function(){
        var value = this.refs.myTextInp.value;
        console.log(value);
    },
    handleCut: function(){
        var value = this.refs.myTextInp.value;
        console.log('cut');
    },
    handleCopy: function(){
        var value = this.refs.myTextInp.value;
        console.log('copy');
    },
    handlePaste: function(){
        var value = this.refs.myTextInp.value;
        console.log('paste');
    },
    render: function(){
        return (
            <div>
                <input type = "text" ref = "myTextInp" onCut = {this.handleCut} onPaste = {this.handlePaste} onCopy = {this.handleCopy}/>
                <input type = "button" value = "输出input的值" onClick = {this.handleClick} />
            </div>
            );
    }
});*/

/*var MyModule = React.createClass({
    clickHandle: function(){
        var value = this.refs.inp.value;
        console.log(value);
    },
    render: function(){
        return (<div>
                <input type="text" ref="inp" onClick={this.clickHandle} />
                <p>this.props.title</p>
            </div>);
    }
});*/


//参数
/*var data = 'Welcome!';*/

//执行
/*ReactDOM.render(
        <HelloMessage title={data} />,
        document.querySelector('.content1')
      );
*/
/*ReactDOM.render(
        <MyComponent />,
        document.querySelector('.content2')
      );
*/
/*ReactDOM.render(
    <MyModule title="123"/>,
    document.querySelector('.content2')
    );
*/

/*var LikeButton = React.createClass({
    getInitialState: function(){
        return {
            liked: false,
            name: 'Jazz'
        };
    },
    handleClick: function(event){
        this.setState({liked: !this.state.liked});
        console.log(this.state);
    },
    render: function(){
        var text = this.state.liked ? 'like' : 'haven\'t liked';
        return (
            <p onClick={this.handleClick}>
                You {text} this. Click to toggle.
            </p>
            );
    }
});

ReactDOM.render(
    <LikeButton />,
    document.querySelector('.content1')
    );*/

/*var Hello = React.createClass({
    getInitialState: function(){
        return {
            opacity: 1.0
        };
    },
    componentDidMount: function(){
        this.timer = setInterval(function(){
            var opacity = this.state.opacity;
            opacity -= .05;
            if(opacity < .1){
                opacity = 1.0;
            }
            this.setState({
                opacity: opacity
            });
        }.bind(this),100)
    },
    componentWillUpdate: function(){
        console.log(1);
    },
    componentWillUnmount: function(){
        console.log(2);
    },
    shouldComponentUpdate: function(obj1, obj2){
        if(obj2.opacity > .5){
            //console.log(3);
            return true;
        }else{
            //console.log(4);
            return false;
        }
    },
    render: function(){
        return (
            <div style={{opacity: this.state.opacity}}>
                Hello {this.props.name}
            </div>
            );
    }
});

ReactDOM.render(
    <Hello name="jazz" />,
    document.querySelector('.content1')
    );*/

/*var UserGist = React.createClass({
    getInitialState: function(){
        return {
            userName: '',
            lastGistUrl: ''
        };
    },
    componentDidMount: function(){
        var times = (new Date()).getTime().toString();
        $.get('actions/get.php?t='+times, {id: 12312}, function(result){
            console.log(result);
            var lastGist = result[0];
            if(this.isMounted()){
                this.setState({
                    userName: lastGist.owner.login,
                    lastGistUrl: lastGist.html_url
                });
            }
        }.bind(this));
    },
    render: function(){
        return (
            <div>
                {this.state.username}s last gist is
                <a href={this.state.lastGistUrl}>here</a>.
            </div>
            );
    }
});


ReactDOM.render(
     <UserGist source="actions/get.php" />,
    document.querySelector('.content1')
    );*/

/*var RepoList = React.createClass({
    getInitialState: function() {
        return {
            loading: true,
            error: null,
            data: null
        };
    },
  componentDidMount() {
    this.props.promise.then(
      value => this.setState({loading: false, data: value}),
      error => this.setState({loading: false, error: error}));
  },
  render: function() {
    if (this.state.loading) {
      return <span>Loading...</span>;
    }
    else if (this.state.error !== null) {
      return <span>Error: {this.state.error.message}</span>;
    }
    else {
      var repos = this.state.data.items;
      var repoList = repos.map(function (repo) {
        return (
          <li>
            <a href={repo.html_url}>{repo.name}</a> ({repo.stargazers_count} stars) <br/> {repo.description}
          </li>
        );
      });
      return (
        <main>
          <h1>Most Popular JavaScript Projects in Github</h1>
          <ol>{repoList}</ol>
        </main>
      );
    }
  }
});*/



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxnaXRDbG9uZVxcZGV2LXdpdGgtbm9kZVxcbm9kZV9tb2R1bGVzXFxndWxwLWJyb3dzZXJpZnlcXG5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwiRDpcXGdpdENsb25lXFxkZXYtd2l0aC1ub2RlXFxwdWJsaWNcXHNyY1xcanN4XFxmYWtlXzY2YzlmM2NmLmpzIiwiRDpcXGdpdENsb25lXFxkZXYtd2l0aC1ub2RlXFxwdWJsaWNcXHNyY1xcanN4XFxtb2R1bGVcXGRlbW8xLmpzeCIsIkQ6XFxnaXRDbG9uZVxcZGV2LXdpdGgtbm9kZVxccHVibGljXFxzcmNcXGpzeFxcbW9kdWxlXFxpbmRleC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxTQUFTO0FBQ1QsTUFBTTtBQUNOLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDOztBQUU5QixPQUFPLENBQUMsb0JBQW9CLENBQUM7OztBQ0o3QixJQUFJLElBQUksR0FBRyxVQUFVO0lBQ2pCLElBQUksaUNBQWlDLDJCQUFBO1FBQ2pDLGVBQWUsRUFBRSxVQUFVO1lBQ3ZCLE9BQU87Z0JBQ0gsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsTUFBTSxFQUFFLEtBQUs7YUFDaEI7U0FDSjtRQUNELGVBQWUsRUFBRSxVQUFVO1lBQ3ZCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDO1lBQ3pELE1BQU07Z0JBQ0YsY0FBYyxFQUFFLFlBQVk7YUFDL0I7U0FDSjtRQUNELGtCQUFrQixFQUFFLFVBQVU7WUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQ25DO0FBQ1QsUUFBUSxpQkFBaUIsRUFBRSxVQUFVO0FBQ3JDOztZQUVZLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM3QjtRQUNELE1BQU0sRUFBRSxVQUFVO1lBQ2Q7Z0JBQ0ksb0JBQUEsS0FBSSxFQUFBLElBQUMsRUFBQTtvQkFDRCxvQkFBQSxJQUFHLEVBQUEsQ0FBQSxDQUFDLEdBQUEsRUFBRyxDQUFDLElBQUssQ0FBQSxFQUFBLEtBQUEsRUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQVUsQ0FBQSxFQUFBO29CQUN0QyxvQkFBQSxHQUFFLEVBQUEsSUFBQyxFQUFBLFNBQUEsRUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQWlCLENBQUE7Z0JBQ3JDLENBQUE7a0JBQ0o7U0FDVDtBQUNULEtBQUssQ0FBQyxDQUFDOztJQUVILFFBQVEsQ0FBQyxNQUFNO1FBQ1gsb0JBQUMsV0FBVyxFQUFBLElBQUEsQ0FBRyxDQUFBO1FBQ2YsUUFBUSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7U0FDbEMsQ0FBQztBQUNWLENBQUMsQ0FBQztBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRO0FBQ1IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxJQUFJLEVBQUU7OztBQzdDaEQsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7O0FBRUEsSUFBSTtBQUNKLDBCQUEwQjs7QUFFMUIsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7RUFFRTtBQUNGO0FBQ0E7QUFDQTs7RUFFRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUsiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyroh6rlrprkuYnmqKHlnZcqL1xuLy/ln7rnoYDmqKHlnZdcbnJlcXVpcmUoJy4vbW9kdWxlL2luZGV4LmpzeCcpO1xuXG5yZXF1aXJlKCcuL21vZHVsZS9kZW1vMS5qc3gnKTsiLCJ2YXIgcGFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIE15Q29tcG9uZW50ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgICAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICduYW1lJzogJ0pzb24nLFxuICAgICAgICAgICAgICAgICd0eXBlJzogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIGZpcnN0U2V0TmFtZSA9IHRoaXMucHJvcHMubmFtZSA9PT0gJ0pzb24nPyAn5pivJzogJ+S4jeaYryc7XG4gICAgICAgICAgICByZXR1cm57XG4gICAgICAgICAgICAgICAgJ2ZpcnN0U2V0TmFtZSc6IGZpcnN0U2V0TmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsnbmFtZSc6ICdKYXp6J30pO1xuICAgICAgICB9LFxuICAgICAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vYWxlcnQoJ+a4suafk+aIkOWKnycpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuaDEpKTsgIC8v6I635Y+WRE9N6IqC54K5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlZnMuaDEpOyAgLy/ojrflj5ZET03oioLngrlcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDEgcmVmPSdoMSc+5aeT5ZCNOnt0aGlzLnN0YXRlLm5hbWV9PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPHA+5piv5LiN5piv5Yid5aeL5YyWOnt0aGlzLnN0YXRlLmZpcnN0U2V0TmFtZX08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgUmVhY3RET00ucmVuZGVyKFxuICAgICAgICA8TXlDb21wb25lbnQgLz4sXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50MScpXG4gICAgICAgICk7XG59O1xuXG5cblxuXG5cblxuXG4vL+S+neaNruaooeWdl+WKoOi9vVxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbW8tbW9kdWxlJykgJiYgcGFnZSgpOyIsIi8v57uE5Lu2XG4vKnZhciBIZWxsb01lc3NhZ2UgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGVudDogJ05pY2UgdG8gbWVldCB5b3UnXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHByb3BUeXBlczoge1xuICAgICAgICB0aXRsZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkXG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICA8aDE+e3RoaXMucHJvcHMudGl0bGV9PC9oMT5cbiAgICAgICAgPGRpdj57dGhpcy5wcm9wcy5jb250ZW50fTwvZGl2PlxuICAgICAgICA8L2Rpdj47XG4gICAgfVxufSk7XG5cbnZhciBNeUNvbXBvbmVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5yZWZzLm15VGV4dElucC52YWx1ZTtcbiAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgIH0sXG4gICAgaGFuZGxlQ3V0OiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnJlZnMubXlUZXh0SW5wLnZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZygnY3V0Jyk7XG4gICAgfSxcbiAgICBoYW5kbGVDb3B5OiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnJlZnMubXlUZXh0SW5wLnZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZygnY29weScpO1xuICAgIH0sXG4gICAgaGFuZGxlUGFzdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucmVmcy5teVRleHRJbnAudmFsdWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwYXN0ZScpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZSA9IFwidGV4dFwiIHJlZiA9IFwibXlUZXh0SW5wXCIgb25DdXQgPSB7dGhpcy5oYW5kbGVDdXR9IG9uUGFzdGUgPSB7dGhpcy5oYW5kbGVQYXN0ZX0gb25Db3B5ID0ge3RoaXMuaGFuZGxlQ29weX0vPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlID0gXCJidXR0b25cIiB2YWx1ZSA9IFwi6L6T5Ye6aW5wdXTnmoTlgLxcIiBvbkNsaWNrID0ge3RoaXMuaGFuZGxlQ2xpY2t9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgfVxufSk7Ki9cblxuLyp2YXIgTXlNb2R1bGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgY2xpY2tIYW5kbGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucmVmcy5pbnAudmFsdWU7XG4gICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuICg8ZGl2PlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj1cImlucFwiIG9uQ2xpY2s9e3RoaXMuY2xpY2tIYW5kbGV9IC8+XG4gICAgICAgICAgICAgICAgPHA+dGhpcy5wcm9wcy50aXRsZTwvcD5cbiAgICAgICAgICAgIDwvZGl2Pik7XG4gICAgfVxufSk7Ki9cblxuXG4vL+WPguaVsFxuLyp2YXIgZGF0YSA9ICdXZWxjb21lISc7Ki9cblxuLy/miafooYxcbi8qUmVhY3RET00ucmVuZGVyKFxuICAgICAgICA8SGVsbG9NZXNzYWdlIHRpdGxlPXtkYXRhfSAvPixcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQxJylcbiAgICAgICk7XG4qL1xuLypSZWFjdERPTS5yZW5kZXIoXG4gICAgICAgIDxNeUNvbXBvbmVudCAvPixcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQyJylcbiAgICAgICk7XG4qL1xuLypSZWFjdERPTS5yZW5kZXIoXG4gICAgPE15TW9kdWxlIHRpdGxlPVwiMTIzXCIvPixcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudDInKVxuICAgICk7XG4qL1xuXG4vKnZhciBMaWtlQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpa2VkOiBmYWxzZSxcbiAgICAgICAgICAgIG5hbWU6ICdKYXp6J1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bGlrZWQ6ICF0aGlzLnN0YXRlLmxpa2VkfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuc3RhdGUubGlrZWQgPyAnbGlrZScgOiAnaGF2ZW5cXCd0IGxpa2VkJztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxwIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PlxuICAgICAgICAgICAgICAgIFlvdSB7dGV4dH0gdGhpcy4gQ2xpY2sgdG8gdG9nZ2xlLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgKTtcbiAgICB9XG59KTtcblxuUmVhY3RET00ucmVuZGVyKFxuICAgIDxMaWtlQnV0dG9uIC8+LFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50MScpXG4gICAgKTsqL1xuXG4vKnZhciBIZWxsbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLjBcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gdGhpcy5zdGF0ZS5vcGFjaXR5O1xuICAgICAgICAgICAgb3BhY2l0eSAtPSAuMDU7XG4gICAgICAgICAgICBpZihvcGFjaXR5IDwgLjEpe1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSAxLjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLDEwMClcbiAgICB9LFxuICAgIGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKDEpO1xuICAgIH0sXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKDIpO1xuICAgIH0sXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbihvYmoxLCBvYmoyKXtcbiAgICAgICAgaWYob2JqMi5vcGFjaXR5ID4gLjUpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygzKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coNCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tvcGFjaXR5OiB0aGlzLnN0YXRlLm9wYWNpdHl9fT5cbiAgICAgICAgICAgICAgICBIZWxsbyB7dGhpcy5wcm9wcy5uYW1lfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5SZWFjdERPTS5yZW5kZXIoXG4gICAgPEhlbGxvIG5hbWU9XCJqYXp6XCIgLz4sXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQxJylcbiAgICApOyovXG5cbi8qdmFyIFVzZXJHaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVzZXJOYW1lOiAnJyxcbiAgICAgICAgICAgIGxhc3RHaXN0VXJsOiAnJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB0aW1lcyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkudG9TdHJpbmcoKTtcbiAgICAgICAgJC5nZXQoJ2FjdGlvbnMvZ2V0LnBocD90PScrdGltZXMsIHtpZDogMTIzMTJ9LCBmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgIHZhciBsYXN0R2lzdCA9IHJlc3VsdFswXTtcbiAgICAgICAgICAgIGlmKHRoaXMuaXNNb3VudGVkKCkpe1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZTogbGFzdEdpc3Qub3duZXIubG9naW4sXG4gICAgICAgICAgICAgICAgICAgIGxhc3RHaXN0VXJsOiBsYXN0R2lzdC5odG1sX3VybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS51c2VybmFtZX1zIGxhc3QgZ2lzdCBpc1xuICAgICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMuc3RhdGUubGFzdEdpc3RVcmx9PmhlcmU8L2E+LlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgIH1cbn0pO1xuXG5cblJlYWN0RE9NLnJlbmRlcihcbiAgICAgPFVzZXJHaXN0IHNvdXJjZT1cImFjdGlvbnMvZ2V0LnBocFwiIC8+LFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50MScpXG4gICAgKTsqL1xuXG4vKnZhciBSZXBvTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgZGF0YTogbnVsbFxuICAgICAgICB9O1xuICAgIH0sXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMucHJvbWlzZS50aGVuKFxuICAgICAgdmFsdWUgPT4gdGhpcy5zZXRTdGF0ZSh7bG9hZGluZzogZmFsc2UsIGRhdGE6IHZhbHVlfSksXG4gICAgICBlcnJvciA9PiB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IGVycm9yfSkpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiA8c3Bhbj5Mb2FkaW5nLi4uPC9zcGFuPjtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDxzcGFuPkVycm9yOiB7dGhpcy5zdGF0ZS5lcnJvci5tZXNzYWdlfTwvc3Bhbj47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHJlcG9zID0gdGhpcy5zdGF0ZS5kYXRhLml0ZW1zO1xuICAgICAgdmFyIHJlcG9MaXN0ID0gcmVwb3MubWFwKGZ1bmN0aW9uIChyZXBvKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPGEgaHJlZj17cmVwby5odG1sX3VybH0+e3JlcG8ubmFtZX08L2E+ICh7cmVwby5zdGFyZ2F6ZXJzX2NvdW50fSBzdGFycykgPGJyLz4ge3JlcG8uZGVzY3JpcHRpb259XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPG1haW4+XG4gICAgICAgICAgPGgxPk1vc3QgUG9wdWxhciBKYXZhU2NyaXB0IFByb2plY3RzIGluIEdpdGh1YjwvaDE+XG4gICAgICAgICAgPG9sPntyZXBvTGlzdH08L29sPlxuICAgICAgICA8L21haW4+XG4gICAgICApO1xuICAgIH1cbiAgfVxufSk7Ki9cblxuIl19
